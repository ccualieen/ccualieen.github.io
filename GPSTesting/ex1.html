<!DOCTYPE html>
<html>
<head>
<script src="https://aframe.io/releases/1.6.3/aframe.min.js"></script>
<!-- include ar.js for aframe -->
<script src='../vendor/ar.js/aframe/build/aframe-ar.js'></script>
<script>ARjs.Context.baseURL = 'vendor/ar.js/three.js/'</script>
<!-- include gps-ar.js -->
<script src="../src/gps-camera-debug.js"></script>
<script src="../src/gps-camera-position.js"></script>
<script src="../src/gps-camera-rotation.js"></script>
<script src="../src/gps-entity-place.js"></script>
</head>
<body>

<body style='margin: 0px; overflow: hidden;'>
	<a-scene embedded arjs='sourceType: webcam;'>
		<!-- <a-sphere gps-entity-place="longitude: 37.470155; latitude: 55.153565"></a-sphere>
		<a-sphere gps-entity-place="longitude: 37.469820; latitude: 55.153653"></a-sphere> -->
		<!-- <a-sphere gps-entity-place="longitude:-6.2343797; latitude: 53.3431803" radius=2 color=red></a-sphere> -->

		<a-sphere gps-entity-place="latitude: 24.8870515; longitude: 121.16898319999999;"  radius=2 color=red></a-sphere>
		<a-sphere gps-entity-place="latitude: 24.8870514; longitude: 121.1689832;"  radius=2 color=green></a-sphere>
		
		<a-camera id="camera" user-height="1.6" gps-camera-position gps-camera-rotation gps-camera-debug></a-camera>
	</a-scene>

<script>
// Latitude: 1 deg = 110.574 km
// Longitude: 1 deg = 111.320*cos(latitude) km
//
var scene = document.querySelector('a-scene');
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
    var i;
		for (i=0; i<10; i++)
		{
    		var entity = document.createElement('a-box');
		scene.appendChild(entity);
		entity.setAttribute('gps-entity-place', 'latitude: ' + (position.coords.latitude+0.00003) + '; longitude: ' +  (position.coords.longitude0 - 0.00012 + i*0.00003) + ';');
		entity.setAttribute('color', 'green');
                //do_something(position.coords.latitude, position.coords.longitude);
    		}
  	} else
	{ 
    		document.title = "Geolocation is not supported by this browser.";
  	}
    });
</script>

</body>
</html>
